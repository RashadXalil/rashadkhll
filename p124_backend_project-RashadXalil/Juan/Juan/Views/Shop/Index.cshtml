@model ShopViewModel
  <!-- off-canvas menu start -->
<aside class="off-canvas-wrapper">
    <div class="off-canvas-overlay"></div>
    <div class="off-canvas-inner-content">
        <div class="btn-close-off-canvas">
            <i class="ion-android-close"></i>
        </div>

        <div class="off-canvas-inner">
            <!-- search box start -->
            <div class="search-box-offcanvas">
                <form>
                    <input type="text" placeholder="Search Here...">
                    <button class="search-btn"><i class="ion-ios-search-strong"></i></button>
                </form>
            </div>
            <!-- search box end -->
            <!-- mobile menu start -->
            <div class="mobile-navigation">
                <!-- mobile menu navigation start -->
                <nav>
                    <ul class="mobile-menu">
                        <li class="menu-item-has-children">
                            <a href="index.html">Home</a>
                            <ul class="dropdown">
                                <li><a href="index.html">Home version 01</a></li>
                                <li><a href="index-2.html">Home version 02</a></li>
                            </ul>
                        </li>
                        <li class="menu-item-has-children">
                            <a href="#">pages</a>
                            <ul class="megamenu dropdown">
                                <li class="mega-title menu-item-has-children">
                                    <a href="#">column 01</a>
                                    <ul class="dropdown">
                                        <li>
                                            <a href="shop.html">
                                                shop grid left
                                                sidebar
                                            </a>
                                        </li>
                                        <li>
                                            <a href="shop-grid-right-sidebar.html">
                                                shop grid right
                                                sidebar
                                            </a>
                                        </li>
                                        <li><a href="shop-list-left-sidebar.html">shop list left sidebar</a></li>
                                        <li><a href="shop-list-right-sidebar.html">shop list right sidebar</a></li>
                                    </ul>
                                </li>
                                <li class="mega-title menu-item-has-children">
                                    <a href="#">column 02</a>
                                    <ul class="dropdown">
                                        <li><a href="product-details.html">product details</a></li>
                                        <li>
                                            <a href="product-details-affiliate.html">
                                                product
                                                details
                                                affiliate
                                            </a>
                                        </li>
                                        <li>
                                            <a href="product-details-variable.html">
                                                product details
                                                variable
                                            </a>
                                        </li>
                                        <li>
                                            <a href="product-details-group.html">
                                                product details
                                                group
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="mega-title menu-item-has-children">
                                    <a href="#">column 03</a>
                                    <ul class="dropdown">
                                        <li><a href="cart.html">cart</a></li>
                                        <li><a href="checkout.html">checkout</a></li>
                                        <li><a href="compare.html">compare</a></li>
                                        <li><a href="wishlist.html">wishlist</a></li>
                                    </ul>
                                </li>
                                <li class="mega-title menu-item-has-children">
                                    <a href="#">column 04</a>
                                    <ul class="dropdown">
                                        <li><a href="my-account.html">my-account</a></li>
                                        <li><a href="login-register.html">login-register</a></li>
                                        <li><a href="contact-us.html">contact us</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li class="menu-item-has-children ">
                            <a href="#">shop</a>
                            <ul class="dropdown">
                                <li class="menu-item-has-children">
                                    <a href="#">shop grid layout</a>
                                    <ul class="dropdown">
                                        <li><a href="shop.html">shop grid left sidebar</a></li>
                                        <li><a href="shop-grid-right-sidebar.html">shop grid right sidebar</a></li>
                                        <li><a href="shop-grid-full-3-col.html">shop grid full 3 col</a></li>
                                        <li><a href="shop-grid-full-4-col.html">shop grid full 4 col</a></li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="#">shop list layout</a>
                                    <ul class="dropdown">
                                        <li><a href="shop-list-left-sidebar.html">shop list left sidebar</a></li>
                                        <li><a href="shop-list-right-sidebar.html">shop list right sidebar</a></li>
                                        <li><a href="shop-list-full-width.html">shop list full width</a></li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="#">products details</a>
                                    <ul class="dropdown">
                                        <li><a href="product-details.html">product details</a></li>
                                        <li><a href="product-details-affiliate.html">product details affiliate</a></li>
                                        <li><a href="product-details-variable.html">product details variable</a></li>
                                        <li><a href="product-details-group.html">product details group</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li class="menu-item-has-children ">
                            <a href="#">Blog</a>
                            <ul class="dropdown">
                                <li><a href="blog-left-sidebar.html">blog left sidebar</a></li>
                                <li><a href="blog-right-sidebar.html">blog right sidebar</a></li>
                                <li><a href="blog-grid-full-width.html">blog grid no sidebar</a></li>
                                <li><a href="blog-details.html">blog details</a></li>
                                <li><a href="blog-details-audio.html">blog details audio</a></li>
                                <li><a href="blog-details-video.html">blog details video</a></li>
                                <li><a href="blog-details-left-sidebar.html">blog details left sidebar</a></li>
                            </ul>
                        </li>
                        <li><a href="contact-us.html">Contact us</a></li>
                    </ul>
                </nav>
                <!-- mobile menu navigation end -->
            </div>
            <!-- mobile menu end -->
            <!-- user setting option start -->
            <div class="mobile-settings">
                <ul class="nav">
                    <li>
                        <div class="dropdown mobile-top-dropdown">
                            <a href="#" class="dropdown-toggle" id="currency" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Currency
                                <i class="fa fa-angle-down"></i>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="currency">
                                <a class="dropdown-item" href="#">$ USD</a>
                                <a class="dropdown-item" href="#">$ EURO</a>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="dropdown mobile-top-dropdown">
                            <a href="#" class="dropdown-toggle" id="myaccount" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                My Account
                                <i class="fa fa-angle-down"></i>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="myaccount">
                                <a class="dropdown-item" href="my-account.html">my account</a>
                                <a class="dropdown-item" href="login-register.html"> login</a>
                                <a class="dropdown-item" href="login-register.html">register</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- user setting option end -->
            <!-- offcanvas widget area start -->
            <div class="offcanvas-widget-area">
                <div class="off-canvas-contact-widget">
                    <ul>
                        <li>
                            <i class="fa fa-mobile"></i>
                            <a href="#">0123456789</a>
                        </li>
                        <li>
                            <i class="fa fa-envelope-o"></i>
                            <a href="#">info@yourdomain.com</a>
                        </li>
                    </ul>
                </div>
                <div class="off-canvas-social-widget">
                    <a href="#"><i class="fa fa-facebook"></i></a>
                    <a href="#"><i class="fa fa-twitter"></i></a>
                    <a href="#"><i class="fa fa-pinterest-p"></i></a>
                    <a href="#"><i class="fa fa-linkedin"></i></a>
                    <a href="#"><i class="fa fa-youtube-play"></i></a>
                </div>
            </div>
            <!-- offcanvas widget area end -->
        </div>
    </div>
</aside>
<!-- off-canvas menu end -->
<!-- main wrapper start -->
<main>
    <!-- breadcrumb area start -->
    <div class="breadcrumb-area bg-img" data-bg="assets/img/banner/breadcrumb-banner.jpg">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="breadcrumb-wrap text-center">
                        <nav aria-label="breadcrumb">
                            <h1 class="breadcrumb-title">shop</h1>
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a asp-controller="home" asp-action="index">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">shop</li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- breadcrumb area end -->
    <!-- page main wrapper start -->
    <div class="shop-main-wrapper section-padding">
        <div class="container">
            <div class="row">
                <!-- sidebar area start -->
                <div class="col-lg-3 order-2 order-lg-1">
                    <div class="sidebar-wrapper">
                        <!-- single sidebar start -->
                        <div class="sidebar-single">
                            <div class="sidebar-title">
                                <h3>Genders</h3>
                            </div>
                            <div class="sidebar-body">
                                @foreach (var gender in Model.Genders)
                                {
                                    <div class="form-check form-switch" style="padding-left:40px">
                                        <input form="filterForm" @(ViewBag.genderId == gender.Id ? "checked" : "") value="@gender.Id" class="form-check-input" name="genderId" type="radio" id="gender-@gender.Id">
                                        <label class="form-check-label" for="gender-@gender.Id">@gender.Name <span>(@( (Model.AllProducts.Where(x=>x.GenderId == gender.Id)).Count()))</span></label>
                                    </div>
                                }
                            </div>
                        </div>
                        <div class="sidebar-single">
                            <div class="sidebar-title">
                                <h3>Brands</h3>
                            </div>
                            <div class="sidebar-body">
                                @foreach (var brand in Model.Brands)
                                {
                                    <div class="form-check form-switch" style="padding-left:40px">
                                        <input class="form-check-input" form="filterForm" @(ViewBag.brandId == brand.Id ? "checked" : "") name="brandId" type="radio" value="@brand.Id" id="brand-@brand.Id">
                                        <label class="form-check-label" for="brand-@brand.Id">@brand.Name <span>(@( (Model.AllProducts.Where(x=>x.BrandId == brand.Id)).Count()))</span></label>
                                    </div>
                                }
                            </div>
                        </div>
                        <div class="sidebar-single">
                            <div class="sidebar-title">
                                <h3>Categories</h3>
                            </div>
                            <div class="sidebar-body">
                                @foreach (var category in Model.Categories)
                                {
                                    <div class="form-check form-switch" style="padding-left:40px">
                                        <input form="filterForm" @(ViewBag.categoryId == category.Id ? "checked" : "") name="catId" class="form-check-input" type="radio" value="@category.Id" id="category-@category.Id">
                                        <label class="form-check-label" for="category-@category.Id">@category.Name <span>(@( (Model.AllProducts.Where(x=>x.CategoryId == category.Id)).Count()))</span></label>
                                    </div>
                                }
                            </div>
                        </div>
                        <!-- single sidebar end -->
                        <!-- single sidebar start -->
                        <div class="sidebar-single">
                            <div class="sidebar-title">
                                <input type="hidden" form="filterForm" name="minPrice" id="minPriceInput" />
                                <input type="hidden" form="filterForm" name="maxPrice" id="maxPriceInput" />
                                <h3>filter by price</h3>
                            </div>
                            <div class="sidebar-body">
                                <div class="price-range-wrap">
                                    <div class="price-range" data-min="20" data-max="400"></div>
                                    <div class="range-slider">
                                        <form action="#">
                                            <div class="price-input">
                                                <label for="amount">Price: </label>
                                                <input type="text" id="amount">
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- single sidebar end -->
                        <!-- single sidebar start -->
                        <div class="sidebar-single">
                            <div class="sidebar-title">
                                <h3>Colors</h3>
                            </div>
                            <div class="sidebar-body">
                                @foreach (var color in Model.Colors)
                                {
                                    <div class="form-check form-switch" style="padding-left:40px">
                                        <input name="colorIds" form="filterForm" @((Model.filterColorIds != null && Model.filterColorIds.Contains(color.Id)) ? "checked" : "") value="@color.Id" class="form-check-input" type="checkbox" id="color-@color.Id">
                                        <label class="form-check-label" for="color-@color.Id">@color.Name <span>(@( (Model.ProductColors.Where(x=>x.ColorId == color.Id)).Count()))</span></label>
                                    </div>
                                }
                            </div>
                        </div>
                        <!-- single sidebar end -->
                        <div class="sidebar-single">
                            <form id="filterForm" asp-action="index" method="get">
                                <button type="submit" class="filter-btn" style="width: 100%; background: #e3a51e;color:white;height:50px;border-radius:5px">Filter</button>
                            </form>
                        </div>
                        <!-- single sidebar start -->
                        <div class="sidebar-single">
                            <div class="sidebar-banner">
                                <a href="#">
                                    <img src="~/assets/img/banner/banner_left.jpg" alt="">
                                </a>
                            </div>
                        </div>
                        <!-- single sidebar end -->
                    </div>
                </div>
                <!-- sidebar area end -->
                <!-- shop main wrapper start -->
                <div class="col-lg-9 order-1 order-lg-2">
                    <div class="shop-product-wrapper">
                        <!-- shop product top wrap start -->
                        <div class="shop-top-bar">
                            <div class="row">
                                <div class="col-xl-5 col-lg-4 col-md-3 order-2 order-md-1">
                                    <div class="top-bar-left">
                                        <div class="product-view-mode">
                                            <a class="active" href="#" data-target="grid-view"><i class="fa fa-th"></i></a>
                                            <a href="#" data-target="list-view"><i class="fa fa-list"></i></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-7 col-lg-8 col-md-9 order-1 order-md-2">
                                    <div class="top-bar-right">
                                        <div class="product-short">
                                            <p>Sort By : </p>
                                            <select class="nice-select" name="sortby">
                                                <option value="trending">Relevance</option>
                                                <option value="sales">Name (A - Z)</option>
                                                <option value="sales">Name (Z - A)</option>
                                                <option value="rating">Price (Low &gt; High)</option>
                                                <option value="date">Rating (Lowest)</option>
                                                <option value="price-asc">Model (A - Z)</option>
                                                <option value="price-asc">Model (Z - A)</option>
                                            </select>
                                        </div>
                                        <div class="product-amount">
                                            <p>Showing 1–16 of 21 results</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- shop product top wrap start -->
                        <!-- product item list start -->
                        <div class="shop-product-wrap grid-view row mbn-50">
                            @foreach (var product in Model.Products)
                            {
                                <div class="col-lg-4 col-sm-6">
                                    <!-- product grid item start -->
                                    <div class="product-item mb-53">
                                        <div class="product-thumb">
                                            <a asp-controller="home" asp-action="ProductDetail" asp-route-id="@product.Id" asp-route-brandId="@product.BrandId">
                                                <img src="~/uploads/products/@product.Image" alt="">
                                            </a>
                                        </div>
                                        <div class="product-content">
                                            <h5 class="product-name">
                                                <a asp-controller="home" asp-action="ProductDetail" asp-route-id="@product.Id" asp-route-brandId="@product.BrandId">@product.Brand.Name @product.Name</a>
                                            </h5>
                                            @if (product.DiscountPercent > 0)
                                            {
                                                <div class="price-box">
                                                    <span class="price-regular">$@((product.SalePrice* (1- product.DiscountPercent/100)).ToString("0.00"))</span>
                                                    <span class="price-old"><del>$@product.SalePrice</del></span>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="price-box">
                                                    <span class="price-regular">$@product.SalePrice</span>
                                                </div>
                                            }
                                            <div class="product-action-link">
                                                <a href="#" data-toggle="tooltip" title="Wishlist"><i class="ion-android-favorite-outline"></i></a>
                                                <a asp-action="addbasket" asp-controller="shop" asp-route-id="@product.Id" data-toggle="tooltip" title="Add To Cart" class="add-to-basket"><i class="ion-bag add-to-basket"></i></a>
                                                <a asp-controller="home" asp-action="GetProduct" asp-route-id="@product.Id" class="quick-view">
                                                    <span data-toggle="tooltip"
                                                          title="Quick View"><i class="ion-ios-eye-outline"></i></span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- product grid item end -->
                                    <!-- product list item start -->
                                    <div class="product-list-item mb-30">
                                        <div class="product-thumb">
                                            <a asp-controller="home" asp-action="ProductDetail" asp-route-id="@product.Id" asp-route-brandId="@product.BrandId">
                                                <img src="~/uploads/products/@product.Image" alt="product thumb">
                                            </a>
                                        </div>
                                        <div class="product-content-list">
                                            <h5 class="product-name">
                                                <a href="product-details.html">@product.Brand.Name @product.Name</a>
                                            </h5>
                                            @if (product.DiscountPercent > 0)
                                            {
                                                <div class="price-box">
                                                    <span class="price-regular">$@((product.SalePrice* (1- product.DiscountPercent/100)).ToString("0.00"))</span>
                                                    <span class="price-old"><del>$@product.SalePrice</del></span>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="price-box">
                                                    <span class="price-regular">$@product.SalePrice</span>
                                                </div>
                                            }
                                            <p>
                                                @product.Desc
                                            </p>
                                            <div class="product-link-2 position-static">
                                                <a href="#" data-toggle="tooltip" title="Wishlist"><i class="ion-android-favorite-outline"></i></a>
                                                <a asp-action="addbasket" asp-controller="shop" asp-route-id="@product.Id" data-toggle="tooltip" title="Add To Cart" class="add-to-basket"><i class="ion-bag"></i></a>
                                                <a asp-controller="home" asp-action="GetProduct" asp-route-id="@product.Id" class="quick-view">
                                                    <span data-toggle="tooltip"
                                                          title="Quick View"><i class="ion-ios-eye-outline"></i></span>
                                                </a>
                                            </div>
                                        </div>
                                            </div>
                                    <!-- product list item start -->
                                </div>
                            }
                        </div>                        <!-- product item list end -->
                        <!-- start pagination area -->
                        <div class="paginatoin-area text-center mt-45">
                            <ul class="pagination-box">
                                <li><a class="Previous" href="#"><i class="ion-ios-arrow-left"></i></a></li>
                                @for (int i = 1; i <= ViewBag.TotalPage; i++)
                                {
                                    <li class="@(i == ViewBag.PageIndex?"active":"")"><a href="@Url.Action("index","shop",new { genderId=ViewBag.GenderId,page=i,colorIds=Model.filterColorIds,brandId=ViewBag.BrandId,catid=ViewBag.CategoryId})">@i</a></li>
                                }
                                <li><a class="Next" href="#"><i class="ion-ios-arrow-right"></i></a></li>
                            </ul>
                        </div>
                        <!-- end pagination area -->
                    </div>
                </div>
                <!-- shop main wrapper end -->
            </div>
        </div>
    </div>
    <!-- page main wrapper end -->
</main>
<!-- main wrapper end -->
@section Scripts{
    <script>
    $(document).ready(function () {

        var rangeSlider = $(".price-range"),
            amount = $("#amount"),
            minPrice = @Model.MinPrice,
            maxPrice = @Model.MaxPrice;
        rangeSlider.slider({
            range: true,
            min: minPrice,
            max: maxPrice,
            values: [@ViewBag.FilterMinPrice, @ViewBag.FilterMaxPrice],
            slide: function (event, ui) {
                amount.val("$" + ui.values[0] + " - $" + ui.values[1]);
                console.log(ui.values[0] + "-" + ui.values[1])
            },
            change: function (event, ui) {
                $("#minPriceInput").val(ui.values[0]);
                $("#maxPriceInput").val(ui.values[1]);
            }
        });
        amount.val(" $" + rangeSlider.slider("values", 0) +
            " - $" + rangeSlider.slider("values", 1));

    })
    </script>
}
<!-- Quick view modal start -->
<div class="modal" id="quick_view">
    <div class="modal-dialog modal-lg modal-dialog-centered">

    </div>
</div>
<!-- Quick view modal end -->